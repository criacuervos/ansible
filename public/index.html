<!DOCTYPE html>
<html lang="">
    <link rel="stylesheet" type="text/css" href="index.css" media="screen"/>
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css"/>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ansible online</title>

    <!-- p5sketch -->
    <script src="libraries/p5.js"></script>
    <script src="libraries/p5.sound.js"></script>
    <script src="p5.play-master/lib/p5.play.js" type="text/javascript"></script>
    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <!-- sketch ap -->
    <script src="sketch.js" type="text/javascript"></script>
    <!-- chat app -->
    <script defer src="chat.js" type="module"></script>

    <script> 
    function toggleName(){
      var nickname = document.getElementById("nickname-form")
  
      if (nickname.style.display === "none"){
        nickname.style.display = "block";
      } 
      else {
        nickname.style.display = "none";
      }
    } 

    function showChat() {
      var chat = document.getElementById("chat-container");
      if (chat.style.display === "none") {
        chat.style.display = "block";
      } else {
        chat.style.display = "none";
      }
    }

    function validateForm(nicknameForm){
      let name = nicknameForm.myname.value
      if(name == "" || name == null){
        alert("name can't be blank ðŸ˜‹!")
        return false;
      } else { //the name is valid, so lets hide the box 
        toggleName()
        return true;
      }
    }

    </script>
  </head>

  <body>
    <button class="button" onclick="showChat()">Chat!</button>
    <!-- chat app -->
    <div id="chat-container" style="display: none;">
      <div id="message-container"></div>
      
      <div id="nickname-container">
        <form name="nicknameForm" id="nickname-form" onSubmit="return validateForm(nicknameForm)">
          <input type="text" class="pa2 input-reset ba bg-transparent w-100 measure" id="nickname-input" placeholder="name" name="myname">
          <button type="submit" id="nickname-button"> save </button>
        </form>
      </div>
      <form id="send-container">
        <input type="text" id="message-input" placeholder="type here...">
        <button type="submit" id="send-button">send</button>
      </form>
      
    </div>

  </body>
</html>
